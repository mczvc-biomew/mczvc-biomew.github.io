import W from"./C1CJFODp.js";import X from"./BD1yDcdr.js";import Y from"./CbXp2mfy.js";import Z from"./DICoOQyR.js";import{d as ee,A as te,j as s,r as ne,w,P as A,H as b,u as oe,k as ae,o as k,c as $,a as _,b as q,n as O,q as f,x as se,m as R,e as le,z as ie,_ as ce}from"./BUj4tDgL.js";import{u as y}from"./BNAweD_E.js";import{q as x}from"./DannHT5B.js";import"./CANWRba0.js";import"./C-v3KzvZ.js";import"./BmlbPuZL.js";import"./CfARrah8.js";const re={class:"tabview"},ue={class:"flex max-w-screen container"},de={class:"content-title-heading text-2xl font-bold"},pe={key:1,class:"loading-data"},fe=ee({__name:"ResumeTabView",async setup(me){let t,r;const{t:D,locale:g}=te(),m=s(null),c=ne({title:"",content:"fetching data..."}),d=s(),u=s(),N=s(),z=s(),E=s(!0),B=s();async function G(e){return await y(`content-profile-${e}`,()=>x().where({_path:`/profile/${e}`}).findOne())}async function H(e){return await y(`content-experience-${e}`,()=>x().where({_path:`/experience/${g.value}`}).findOne())}const{data:C}=([t,r]=w(()=>G(g.value)),t=await t,r(),t),{data:I}=([t,r]=w(()=>y("content-education-en-2",()=>x().where({_path:"/education"}).findOne())),t=await t,r(),t),{data:P}=([t,r]=w(()=>H(g.value)),t=await t,r(),t),{data:M}=([t,r]=w(()=>y("content-skills-en-4",()=>x().where({_path:"/skills"}).findOne())),t=await t,r(),t),j=[{path:"/profile",hashes:["#software-developer","#computer-science","#technical-team-leader","#polyglot","#solutions-architect","#software-architect","#software-engineer"],dataPath:C},{path:"/education",hashes:["#coursework-information"],dataPath:I},{path:"/experience",hashes:["#ceo-founder-software-engineer-and-architect","#senior-software-engineer-and-architect-full-stack-developer-devops-engineer-rd-database-administrator-it-is-manager-business-innovator"],dataPath:P},{path:"/skills",hashes:["#programming-language","#framework-and-libraries","#tools-and-technologies","#methodologies"],dataPath:M}],p=[{title:"profile",display:"Profile",content:()=>C.value,selected:s(!0),path:"/profile"},{title:"education",display:"Education",content:()=>I.value,selected:s(!1),path:"/education"},{title:"work_experience",display:D("work_experience.display"),content:()=>P.value,selected:s(!1),path:"/experience"},{title:"skills",display:"Skills",content:()=>M.value,selected:s(!1),path:"/skills"}],h=s([]),S=e=>{let n=0,l=3,o="";for(;h.value.length>0;)clearTimeout(h.value.pop());let a=()=>{h.value.push(setTimeout(()=>{u.value!==null&&(u.value.classList.contains("tick")?u.value.classList.remove("tick"):u.value.classList.add("tick"),l--,(l>0||l<=0&&u.value.classList.contains("tick"))&&h.value&&a())},700))};a(),[...e].forEach(v=>{h.value.push(setTimeout(()=>{u.value!==null&&(o=o+v,c.title=o,u.value.classList.add("tick"))},n)),n+=120})},T=e=>p.find(({title:n})=>e===n),V=s(e=>{const{display:n,content:l}=T(e)??{display:"",undefined:void 0};m.value=l(),c.title=n||"",A(d.value,["show"]),setTimeout(()=>{b(d.value,["show"])},700);const o=c.title;c.title="",S(o);const a=p.find(({title:i})=>i===e);a&&(p.forEach(({selected:i})=>i.value=!1),a.selected&&(a.selected.value=!0))}),F=({title:e,selected:n})=>{const{display:l,content:o}=T(e)??{display:"",undefined:void 0};c.title=l||"",m.value=o(),n.value=!0,A(d.value,["show"]);const a=document.querySelector(".content-title-heading");setTimeout(()=>{a&&window.scrollTo({top:a.scrollTop,behavior:"smooth"}),b(d.value,["show"])},1);const i=c.title;c.title="",S(i)};function U(e){e!==null&&window.scroll({top:e.getBoundingClientRect().y,behavior:"smooth"})}const J=oe(),K=e=>{var n,l;for(const o of j)if(o.hashes.includes(e)){for(const a of p)if((l=(n=o.dataPath.value)==null?void 0:n._path)!=null&&l.includes(a.path)){const{content:i,title:v,selected:L}=T(a.title)??{};i&&(B.value=i),v&&V.value(v),L&&(L.value=!0)}}setTimeout(()=>{if(e){const o=document.querySelector(e);U(o)}},1e3)},Q=async()=>{window.scroll({top:0}),B.value||(c.title="Profile",m.value=C.value),E.value=!1,await ie(()=>b(d.value,["show"])),K(J.hash)};return ae(()=>{Q()}),(e,n)=>{const l=W,o=X,a=Y,i=Z;return k(),$("div",re,[_(E)?(k(),$("div",pe,n[1]||(n[1]=[f("p",null," Fetching data ... ",-1)]))):(k(),q(a,{key:0},{title:O(()=>[f("div",ue,[f("h2",de,[f("span",{class:"content-title -mx-2 px-3 text-nowrap",ref_key:"contentTitleEl",ref:u},se(_(c).title),513),n[0]||(n[0]=f("span",{class:"title-skilled"},null,-1))]),R(l,{ref_key:"bubbleMenuTogglerEl",ref:N,class:"ml-auto pr-0",onItemClick:_(V),items:p,show:!1},null,8,["onItemClick","items"])])]),default:O(()=>[f("div",{ref_key:"contentContainerEl",ref:d,class:"content-container"},[_(m)?(k(),q(o,{key:0,value:_(m)},null,8,["value"])):le("",!0)],512)]),_:1})),R(i,{items:p,onItemClick:F,ref_key:"menuElementEl",ref:z,class:"py-4"},null,8,["items"])])}}}),Ee=ce(fe,[["__scopeId","data-v-1657c132"]]);export{Ee as default};
