import{_ as A}from"./CDnmBPjp.js";import{f as B,t as f,h as W,r as G,g as U,d as I,i as K,a as c,j as n,p as O,k as V,l as j,o as E,c as M,m as R,n as z,T as N,q as $,F as q,v as H,x as J,e as X,b as P,y as Q,z as Y,_ as Z}from"./BxgxkkwO.js";import ee from"./Cf2_modM.js";import{u as te}from"./CjbRbhdF.js";function se(l,v,h){const[s={},u]=[{},v],e=B(()=>f(l)),r=s.key||W([u,typeof e.value=="string"?e.value:"",...ae(s)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);const i=r===u?"$f"+r:r;if(!s.baseURL&&typeof e.value=="string"&&e.value[0]==="/"&&e.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:g,lazy:m,default:y,transform:b,pick:k,watch:p,immediate:C,getCachedData:x,deep:w,dedupe:S,..._}=s,t=G({...U,..._,cache:typeof s.cache=="boolean"?void 0:s.cache}),o={server:g,lazy:m,default:y,transform:b,pick:k,immediate:C,getCachedData:x,deep:w,dedupe:S,watch:p===!1?[]:[t,e,...p||[]]};let a;return te(i,()=>{var F;(F=a==null?void 0:a.abort)==null||F.call(a,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),a=typeof AbortController<"u"?new AbortController:{};const d=f(s.timeout);let D;return d&&(D=setTimeout(()=>a.abort(new DOMException("Request aborted due to timeout.","AbortError")),d),a.signal.onabort=()=>clearTimeout(D)),(s.$fetch||globalThis.$fetch)(e.value,{signal:a.signal,...t}).finally(()=>{clearTimeout(D)})},o)}function ae(l){var h;const v=[((h=f(l.method))==null?void 0:h.toUpperCase())||"GET",f(l.baseURL)];for(const s of[l.params||l.query]){const u=f(s);if(!u)continue;const e={};for(const[r,i]of Object.entries(u))e[f(r)]=f(i);v.push(e)}return v}const oe={key:0,class:"toast"},ne={class:"board"},T=5,re=I({__name:"guess",setup(l){K(t=>({"73f284da":c(b)})),(async()=>{const{data:t}=await se("/api/guess-words","$RXA5OmakJz"),o=t.value,a=o[Math.floor(Math.random()*o.length)];s.value=a,h.value=o})();const h=n(),s=n(""),u=n(Array(6).fill(null)),e=n(""),r=n(0),i=n(!1),g=n(!1),m=n(""),y=n(),b=n("10rem"),k=t=>{m.value=t,Y(()=>{b.value=`calc(${y.value.getBoundingClientRect().width}px + 2em)`}),setTimeout(()=>{m.value=""},2e3)},p=n(new Set),C=n(new Set),x=n(new Set);O("correctSet",p),O("closeMatchSet",C),O("submittedSet",x);const w=t=>{var o;if(t.key==="Enter"){if(e.value.length!==T)return;if(!((o=h.value)!=null&&o.includes(e.value.toUpperCase()))){k("Word not found!"),i.value=!0,setTimeout(()=>{i.value=!1},800);return}u.value[r.value]=e.value,r.value+=1,s.value.toLowerCase()===e.value&&(g.value=!0,k("Excellent!")),e.value=""}if(!g.value){if(t.key==="Backspace"){e.value=e.value.slice(0,-1);return}e.value.length>=T||(t.key.length===1&&(e.value=e.value+t.key),e.value.length>=T)}},S=t=>{t==="âŽ†"?t="Enter":t==="ðŸ”™"?t="Backspace":t=t.toLowerCase();const o=new KeyboardEvent("key",{key:t});w(o)};V(()=>{window.addEventListener("keydown",w)}),j(()=>{window.removeEventListener("keydown",w)});const _=t=>t===u.value.findIndex(o=>o==null);return(t,o)=>{const a=A;return E(),M(q,null,[R(N,{name:"fade"},{default:z(()=>[c(m).length>0?(E(),M("div",oe,[$("span",{id:"toast-text",ref_key:"toastTextEl",ref:y},J(c(m)),513)])):X("",!0)]),_:1}),$("div",ne,[(E(!0),M(q,null,H(c(u),(L,d)=>(E(),P(a,{"word-length":T,solution:c(s).toLowerCase(),guess:(_(d)?c(e):L)??"",class:Q({incorrect:_(d)&&c(i)}),isFinal:!_(d)&&L!=null,key:d},null,8,["solution","guess","class","isFinal"]))),128))]),R(ee,{onKeyClick:S,correctSet:c(p),closeMatchSet:c(C),"submitted-set":c(x)},null,8,["correctSet","closeMatchSet","submitted-set"])],64)}}}),fe=Z(re,[["__scopeId","data-v-6703b44c"]]);export{fe as default};
