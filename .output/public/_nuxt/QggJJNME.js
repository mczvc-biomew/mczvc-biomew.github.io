import Ce from"./BdH0ymNB.js";import{_ as be}from"./JMKnLP1l.js";import we from"./CsL1ZfXb.js";import{_ as ke,l as Se}from"./C22maiWQ.js";import xe from"./zKfqcWVS.js";import Be from"./DRLix3qm.js";import{d as Me,r as a,h as x,f as Te,I as A,aU as Ie,l as ze,c as D,n as l,V as Ve,a3 as Pe,m as v,aV as $e,ay as Q,e as s,p as Ae,T as De,o as B,a as Ee,b as W,L as Ne,z as b,y as Fe,aQ as E,g as J,x as qe,Q as Re,a0 as Ye,_ as He}from"./BQOrxtDg.js";import{u as Le}from"./CnUyQ4Je.js";import{s as Z,a as O,b as X,c as ee,d as je,e as Ke,f as Ue,g as Ge,h as Qe,i as We,j as Je}from"./CUCoBF2z.js";import{s as Ze}from"./D40f5cqW.js";import"./B6kHQS0G.js";import"./BFpAffIu.js";import"./Dk7D6Rs2.js";const Oe={class:"YouMeKa is-loading"},Xe={class:"content"},et={class:"music-station-overlay"},tt={class:"cover-stretch"},st={class:"music-station"},lt={class:"playlist-buttons--wrapper z-10"},at={key:1,class:"display-playing peach-sundress"},it={class:"flex justify-center items-center"},ot={class:"hello-kitty-tall-wrapper"},te="/music/YouMeKa/",nt="/assets/img/YouMeKa/",ut="Jelly Sugar",ct=Me({__name:"musicForGirlfriend",setup(rt){qe(e=>({"54a6ebc4":s(j),"73d48062":s(K),"551d34bc":s(S),"6c3597b4":s(ye)}));const N=a(""),se=x(()=>`url('${J(nt+"kitty-stop.jpg")}')`),le=x(()=>`url("${J("/assets/img/icons/rewind.svg")}")`),_=a(!0),F=Le(".YouMeKa__music-docking-station"),ae=[{year:2024,months:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0]},{year:2025,months:[!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1]}];let c=x(()=>{const e=r.value;if(!(s(i)>e.length||s(i)<0))return r.value[i.value-1]});const r=a([Z,O,X,ee]),i=a(0),q=x(()=>r.value.length),w=a(0),M=a(0),d=a({title:"",display:"",author:"",type:"audio/mp3"}),k=a(!1),T=a(""),h=a(""),ie=(e,t)=>{i.value=1,w.value=i.value,e===0&&t===11?r.value=[Z,O,X,ee]:e===1&&t===1?r.value=[je,Ke,Ue]:e===1&&t===2?r.value=[Ge,Qe]:e===1&&t===3?r.value=[We]:e===1&&t===4&&(r.value=[Je])},oe=()=>{if(c.value)for(let e=0;e<c.value.length;e++)c.value[e].playing=!1},m=a();let R=!1;const ne=()=>{i.value-=1,y=-1,i.value===w.value&&(y=M.value)},ue=()=>{i.value+=1,y=-1,i.value===w.value&&(y=M.value)};let f=null;const ce=e=>{const t=a(),u=new Date(0,0);t.value=u.getTime(),f!==null&&clearInterval(f),f=Ze(()=>{const n=new Date(t.value),g=n.getHours(),p=n.getMinutes();t.value=n.setMinutes(p+1),p===23&&m.value&&(m.value.style.transition="background-image 1s ease, opacity 1s ease",m.value.style.opacity="0",m.value.style.backgroundImage=`url("${te}set-three/take-off.gif")`,setTimeout(()=>{m.value.style.opacity="1"},1e3)),g===1&&p>=43&&(m.value&&(m.value.style.opacity="0",m.value.style.backgroundImage=e,setTimeout(()=>{m.value.style.opacity="1"},1e3)),f!==null&&clearInterval(f))},1e3)},C=new Map,Y=[];function re(e){let t=0;for(const[u,n]of e.entries())t+=e.get(u).byteLength;return t}async function ve(e,t){const n=re(C)>42e6,g=await Se(e);if(n){const p=Y.shift();p&&t.has(p)&&(t.set(p,null),t.delete(p))}return t.set(e,g),Y.push(e),g}async function I(e){let t=null;return C.has(e)?t=C.get(e):t=await ve(e,C),t.slice(0)}let o=a("album"),y=0;function de(e,t){y=t,w.value=i.value,M.value=t,e.playing=!0,N.value=e.src,h.value="",e.displayFontName&&(h.value=e.displayFontName),d.value.title=e.title,e.title.length>0&&(d.value.title=e.title.toUpperCase()),d.value.author="author"in e?e.author:"?",d.value.display="display"in e&&e.display?e.display:e.title,"type"in e&&e.type!==void 0?d.value.type=e.type:d.value.type="audio/mp3",e.src===`${te}set-three/Your-Call-Remastered.mp3`?ce(`url('${e.coverBg}')`):f&&clearInterval(f);const u=document.querySelector(".hk-center-cover-bg");R=!0,"coverBg"in e&&(u.style.backgroundImage=`url('${e.coverBg}')`,u.style.backgroundSize="min(400px, 100vw)",A(u,"playing"),u.style.opacity="0.9")}const H=e=>{if(oe(),Re(document.querySelector(".music-widget-bg"),"invisible"),!c.value||c.value.length<=e)return;c.value.length-1>e?(o.value==="album"||o.value==="all")&&setTimeout(async()=>{var n;const u=c.value[e+1].src;await I(u),(n=document.querySelector(`[data-src="${u}"]`))==null||n.classList.add("cached")},500):o.value==="all"&&r.value.length>i.value&&setTimeout(()=>{I(r.value[i.value][0].src)},500);const t=c.value[e];de(t,e)};let z=null;const me=()=>{z!==null&&clearTimeout(z),o.value==="all"&&c.value&&c.value.length-1<=y&&i.value<q.value&&(i.value+=1,y=-1),(o.value==="album"||o.value==="all")&&c.value&&c.value.length>y&&(z=setTimeout(()=>{H(y+1),G()},500))},L=a(!1),V=a(!1);let P=null;const pe=()=>{P!==null&&clearTimeout(P),_.value=!_.value,V.value=!V.value,s(_)||(P=setTimeout(()=>{s(L)||(T.value="",Ye(d.value.title,L,document.querySelector(".animated-title"),T)),A(U.value,"twenty-three__yumika")},700))},fe=a("0px"),j=a("92%"),K=a("100%"),S=a("1"),ye=a("360deg"),U=a(),G=()=>{const{offsetWidth:e,offsetHeight:t}=document.querySelector(".playlist-view");j.value=`${e*.98}px`,K.value=`${t-35}px`,S.value="1",S.value="0deg"},ge=()=>{if(S.value="0",R){const e=document.querySelector(".hk-center-cover-bg"),t=document.querySelector(".playlist-view");e.style.transform=`translateY(calc(${t.getBoundingClientRect().height}px + 100px))`}},$=()=>{ge(),setTimeout(()=>{G()},710)};return Te(()=>{fe.value=document.querySelector(".playlist-view").offsetHeight.toString()+"px",setTimeout(()=>{F.reDock()},700),A(".pause-icon","girlfriend"),i.value=1,document.documentElement.addEventListener("click",$)}),Ie(()=>{$()}),ze(()=>{F.unDock(),f&&clearInterval(f),document.documentElement.removeEventListener("click",$)}),(e,t)=>{const u=Ce,n=be,g=we,p=ke,_e=xe,he=Be;return B(),D("div",Oe,[l("div",Xe,[t[11]||(t[11]=l("nav",{class:""},[l("div",{class:"logo--wrapper"},[l("div",{id:"logo",class:""},[l("img",{src:$e,class:"",height:"32"})])])],-1)),Pe(e.$slots,"default",{},void 0,!0),l("div",et,[t[3]||(t[3]=l("div",{id:"top-anchor"},null,-1)),l("div",tt,[l("div",{class:"hk-center-cover-bg",ref_key:"centerCoverBgEl",ref:m},null,512)]),t[4]||(t[4]=l("div",{class:"margin-center-cover"},null,-1))]),l("div",st,[v(u,{items:ae,onMonthClick:ie}),l("div",lt,[v(n,{class:"backward-icon",style:Q({visibility:s(i)>1?"visible":"hidden"}),onClick:ne},null,8,["style"]),v(n,{class:"playlist-icon",onClick:pe}),v(n,{class:"forward-icon",style:Q({visibility:s(i)<s(q)?"visible":"hidden"}),onClick:ue},null,8,["style"])]),v(De,{name:"collapse"},{default:Ae(()=>[(B(),D("div",{class:"playlist-view",key:s(i)},[t[7]||(t[7]=l("div",{class:"playlist-bg"},null,-1)),s(_)&&s(r)[s(i)-1]?(B(),Ee(g,{key:0,"song-list":s(r)[s(i)-1],"default-font-family":ut,onSongClick:H,"cache-map":s(C)},null,8,["song-list","cache-map"])):W("",!0),s(_)?W("",!0):(B(),D("span",at,[t[5]||(t[5]=Ne("Now Playing:")),t[6]||(t[6]=l("br",null,null,-1)),l("b",{class:b([{"jelly-sugar":!s(h)||s(h)==="Jelly Sugar",serif:s(h)==="serif"},"animated-title"])},Fe(s(T)),3)])),l("div",{class:b(["music-controls",{show:s(V)}])},[v(n,{class:b(["repeat-album",{active:s(o)==="album"}]),onClick:t[0]||(t[0]=()=>{E(o)?o.value="album":o="album",k.value=!1})},null,8,["class"]),v(n,{class:b(["repeat-song",{active:s(o)==="song"}]),onClick:t[1]||(t[1]=()=>{E(o)?o.value="song":o="song",k.value=!0})},null,8,["class"]),v(n,{class:b(["repeat-album-to-the-next",{active:s(o)==="all"}]),onClick:t[2]||(t[2]=()=>{E(o)?o.value="all":o="all",k.value=!1})},null,8,["class"])],2)]))]),_:1}),t[8]||(t[8]=l("div",{class:"YouMeKa__music-docking-station"},null,-1))]),l("div",it,[l("div",{class:"music-widget-bg invisible",ref_key:"twentyThreeBg",ref:U},null,512)]),v(p,{musicFile:s(N),musicAuthor:s(d).author,musicTitle:s(d).title,musicType:s(d).type,"music-loop":s(k),"on-music-ended":me,"fetch-buffer-src":I,stopIcon:s(se),rewindIcon:s(le),font:"Gotham Condensed Black",fontSize:42,fgColor:"#ce0060",shadowColor:"#8c1441"},null,8,["musicFile","musicAuthor","musicTitle","musicType","music-loop","stopIcon","rewindIcon"]),l("div",ot,[t[9]||(t[9]=l("div",{class:"hello-kitty-tall"},null,-1)),v(_e),v(he),t[10]||(t[10]=l("div",{class:"spacer"},null,-1))])]),t[12]||(t[12]=Ve('<div class="footer" data-v-d32825be><svg preserveAspectRatio="none" id="footer-spacer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2278 710" data-v-d32825be><path class="footer-spacer" id="bouncy-path" d="M0-0.3C0-0.3,464,156,1139,156S2278-0.3,2278-0.3V683H0V-0.3z" data-v-d32825be></path></svg><div class="footer__copyright bg-pink-950 flex pt-1" data-v-d32825be><div id="copyright-symbol" data-v-d32825be><svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d32825be><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12.24 15.25C13.02 15.25 13.79 14.96 14.38 14.44C14.69 14.17 15.17 14.2 15.44 14.51C15.71 14.82 15.68 15.3 15.37 15.57C14.5 16.34 13.39 16.76 12.24 16.76C9.62 16.76 7.49 14.63 7.49 12.01C7.49 9.39 9.62 7.26 12.24 7.26C13.39 7.26 14.51 7.68 15.37 8.45C15.68 8.72 15.71 9.2 15.44 9.51C15.16 9.82 14.69 9.85 14.38 9.58C13.79 9.06 13.03 8.77 12.24 8.77C10.45 8.77 8.99 10.23 8.99 12.02C8.99 13.81 10.45 15.25 12.24 15.25Z" fill="#ffccd5" data-v-d32825be></path></svg></div><span class="px-1" data-v-d32825be></span><span class="footer__copyright__text jelly-sugar text-2xl text-pink-300" data-v-d32825be>Yumika &amp; Sanrio</span></div></div>',1))])}}}),St=He(ct,[["__scopeId","data-v-d32825be"]]);export{St as default};
