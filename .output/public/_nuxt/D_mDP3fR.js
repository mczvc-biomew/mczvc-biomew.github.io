import{P,S as W,F as B,k as L,l as A,m as C,n as E,A as R,b as S,o as _,W as G}from"./Dk7D6Rs2.js";import{r as F,f as X,c as Y,b as j,e as T,o as D,g as l}from"./7VwHqc1T.js";const I={key:0,id:"id-snowflakes",class:"absolute top-0 z-0 pointer-events-none"},K={__name:"Snowflakes",setup(N){const f=F(!1);let s,a,i,d,k=0,y=0;return X(()=>{let u=window.innerWidth/2,g=window.innerHeight/2;const c=[];function b(){s=new P(75,window.innerWidth/window.innerHeight,1,2e3),s.position.z=1e3,a=new W,a.fog=new B(0,8e-4);const o=new L,e=[],t=new A,r=n=>{};t.load(l("/assets/img/textures/sprites/snowflake1.png"),r),t.load(l("/assets/img/textures/sprites/snowflake2.png"),r),t.load(l("/assets/img/textures/sprites/snowflake3.png"),r),t.load(l("/assets/img/textures/sprites/snowflake4.png"),r),t.load(l("/assets/img/textures/sprites/snowflake5.png"),r);const w=t.load(l("/assets/img/textures/sprites/snowflake7_alpha.png"),r);for(let n=0;n<1e4;n++){const p=Math.random()*2e3-1e3,h=Math.random()*2e3-1e3,x=Math.random()*2e3-1e3;e.push(p,h,x)}o.setAttribute("position",new C(e,3)),d=[[[1,.2,.5],w,20],[[.95,.1,.5],w,15],[[.9,.05,.5],w,10],[[.85,0,.5],w,8],[[.8,0,.5],w,5]];for(let n=0;n<d.length;n++){const p=d[n][0],h=d[n][1],x=d[n][2];c[n]=new E({size:x,map:h,blending:R,depthTest:!1,transparent:!0}),c[n].color.setHSL(p[0],p[1],p[2],S);const m=new _(o,c[n]);m.rotation.x=Math.random()*6,m.rotation.y=Math.random()*6,m.rotation.z=Math.random()*6,a.add(m)}i=new G,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.setAnimationLoop(H),document.getElementById("id-snowflakes").appendChild(i.domElement),i.getContext().clearColor(0,0,0,0),document.body.style.touchAction="none",document.body.addEventListener("pointermove",z),window.addEventListener("resize",v)}function v(){u=window.innerWidth/2,g=window.innerHeight/2,s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function z(o){o.isPrimary!==!1&&(k=o.clientX-u,y=o.clientY-g)}function H(){M()}function M(){const o=Date.now()*5e-5;s.position.x+=(k-s.position.x)*.05,s.position.y+=(-y-s.position.y)*.05,s.lookAt(a.position);for(let e=0;e<a.children.length;e++){const t=a.children[e];t instanceof _&&(t.rotation.y=o*(e<4?e+1:-(e+1)))}for(let e=0;e<c.length;e++){const t=d[e][0],r=360*(t[0]+o)%360/360;c[e].color.setHSL(r,t[1],t[2],S)}i.render(a,s)}try{b(),f.value=!1}catch(o){f.value=!0,console.error(o)}}),(u,g)=>T(f)?j("",!0):(D(),Y("div",I))}};export{K as default};
