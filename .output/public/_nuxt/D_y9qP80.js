import be from"./CCBN-NY6.js";import{_ as Se}from"./uCbuwwHb.js";import xe from"./BilGLn-q.js";import{_ as Be,l as Me}from"./DUmbJMyx.js";import Te from"./BkfOq71t.js";import Ie from"./BH3ytw81.js";import{d as ze,r as a,h as x,f as Ee,I as P,aV as Ae,l as $e,c as F,n as i,V as Ve,a4 as Pe,m as v,aW as Fe,az as X,e as s,p as Le,T as De,a2 as Ne,$ as ee,o as B,a as Re,b as te,L as qe,z as C,y as Ye,aR as L,g as se,x as He,Q as je,_ as Ke}from"./Bo2a1m-g.js";import{u as Ue}from"./DR-QUCb_.js";import{s as le,a as ae,b as ie,c as oe,d as We,e as Ge,f as Je,g as Qe,h as Ze,i as Oe,j as Xe}from"./B1_GX-gV.js";import{s as et}from"./c0FnNwjU.js";import"./uToLB7az.js";import"./CkmlkIUp.js";import"./Dj-vhf08.js";const tt={class:"YouMeKa is-loading"},st={class:"content"},lt={class:"music-station-overlay"},at={class:"cover-stretch"},it={class:"music-station"},ot={class:"playlist-buttons--wrapper z-10"},nt={key:1,class:"display-playing peach-sundress"},ut={class:"flex justify-center items-center"},ct={class:"hello-kitty-tall-wrapper"},ne="/music/YouMeKa/",rt="/assets/img/YouMeKa/",vt="Jelly Sugar",dt=ze({__name:"musicForGirlfriend",setup(ft){He(e=>({"66b38770":s(G),a35b5a36:s(J),"6729d068":s(S),d56d4c88:s(he)}));const D=a(""),N=a(),ue=x(()=>`url('${se(rt+"kitty-stop.jpg")}')`),ce=x(()=>`url("${se("/assets/img/icons/rewind.svg")}")`),_=a(!0),R=Ue(".YouMeKa__music-docking-station"),re=[{year:2024,months:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0]},{year:2025,months:[!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1]}];let c=x(()=>{const e=r.value;if(!(s(l)>e.length||s(l)<0))return r.value[l.value-1]});const r=a([le,ae,ie,oe]),l=a(0),M=x(()=>r.value.length),k=a(0),T=a(0),d=a({title:"",display:"",author:"",type:"audio/mp3"}),b=a(!1),I=a(""),h=a(""),ve=(e,t)=>{l.value=1,k.value=l.value,e===0&&t===11?r.value=[le,ae,ie,oe]:e===1&&t===1?r.value=[We,Ge,Je]:e===1&&t===2?r.value=[Qe,Ze]:e===1&&t===3?r.value=[Oe]:e===1&&t===4&&(r.value=[Xe])},de=()=>{if(c.value)for(let e=0;e<c.value.length;e++)c.value[e].playing=!1},f=a();let q=!1;const Y=()=>{l.value-=1,y=-1,l.value===k.value&&(y=T.value)},H=()=>{l.value+=1,y=-1,l.value===k.value&&(y=T.value)};let p=null;const fe=e=>{const t=a(),u=new Date(0,0);t.value=u.getTime(),p!==null&&clearInterval(p),p=et(()=>{const n=new Date(t.value),g=n.getHours(),m=n.getMinutes();t.value=n.setMinutes(m+1),m===23&&f.value&&(f.value.style.transition="background-image 1s ease, opacity 1s ease",f.value.style.opacity="0",f.value.style.backgroundImage=`url("${ne}set-three/take-off.gif")`,setTimeout(()=>{f.value.style.opacity="1"},1e3)),g===1&&m>=43&&(f.value&&(f.value.style.opacity="0",f.value.style.backgroundImage=e,setTimeout(()=>{f.value.style.opacity="1"},1e3)),p!==null&&clearInterval(p))},1e3)},w=new Map,j=[];function me(e){let t=0;for(const[u,n]of e.entries())t+=e.get(u).byteLength;return t}async function pe(e,t){const n=me(w)>42e6,g=await Me(e);if(n){const m=j.shift();m&&t.has(m)&&(t.set(m,null),t.delete(m))}return t.set(e,g),j.push(e),g}async function z(e){let t=null;return w.has(e)?t=w.get(e):t=await pe(e,w),t.slice(0)}let o=a("album"),y=0;function ye(e,t){y=t,k.value=l.value,T.value=t,e.playing=!0,D.value=e.src,h.value="",e.displayFontName&&(h.value=e.displayFontName),d.value.title=e.title,e.title.length>0&&(d.value.title=e.title.toUpperCase()),d.value.author="author"in e?e.author:"?",d.value.display="display"in e&&e.display?e.display:e.title,"type"in e&&e.type!==void 0?d.value.type=e.type:d.value.type="audio/mp3",e.src===`${ne}set-three/Your-Call-Remastered.mp3`?fe(`url('${e.coverBg}')`):p&&clearInterval(p);const u=document.querySelector(".hk-center-cover-bg");q=!0,"coverBg"in e&&(u.style.backgroundImage=`url('${e.coverBg}')`,u.style.backgroundSize="min(400px, 100vw)",P(u,"playing"),u.style.opacity="0.9")}const K=e=>{if(de(),je(document.querySelector(".music-widget-bg"),"invisible"),!c.value||c.value.length<=e)return;c.value.length-1>e?(o.value==="album"||o.value==="all")&&setTimeout(async()=>{var n;const u=c.value[e+1].src;await z(u),(n=document.querySelector(`[data-src="${u}"]`))==null||n.classList.add("cached")},500):o.value==="all"&&r.value.length>l.value&&setTimeout(()=>{z(r.value[l.value][0].src)},500);const t=c.value[e];ye(t,e)};let E=null;const ge=()=>{E!==null&&clearTimeout(E),o.value==="all"&&c.value&&c.value.length-1<=y&&l.value<M.value&&(l.value+=1,y=-1),(o.value==="album"||o.value==="all")&&c.value&&c.value.length>y&&(E=setTimeout(()=>{K(y+1),Z()},500))},U=a(!1),A=a(!1);let $=null;const W=()=>{$!==null&&clearTimeout($),_.value=!_.value,A.value=!A.value,s(_)||($=setTimeout(()=>{s(U)||(I.value="",Ne(d.value.title,U,document.querySelector(".animated-title"),I)),P(Q.value,"twenty-three__yumika")},700))},_e=a("0px"),G=a("92%"),J=a("100%"),S=a("1"),he=a("360deg"),Q=a(),Z=()=>{if(!ee(".playlist-view"))return;const{offsetWidth:e,offsetHeight:t}=ee(".playlist-view");G.value=`${e*.98}px`,J.value=`${t-35}px`,S.value="1",S.value="0deg"},we=()=>{if(S.value="0",q){const e=document.querySelector(".hk-center-cover-bg"),t=document.querySelector(".playlist-view");e.style.transform=`translateY(calc(${t.getBoundingClientRect().height}px + 100px))`}},V=()=>{we(),setTimeout(()=>{Z()},710)};async function O(e){e.key==="ArrowLeft"?l.value>1&&Y():e.key==="ArrowRight"?l.value<M.value&&H():e.key==="p"?await N.value.pause(new MouseEvent("")):(e.key==="F2"||e.key==="F1")&&W()}return Ee(()=>{_e.value=document.querySelector(".playlist-view").offsetHeight.toString()+"px",setTimeout(()=>{R.reDock()},700),P(".pause-icon","girlfriend"),l.value=1,document.documentElement.addEventListener("click",V),document.documentElement.addEventListener("keyup",O),Ae(()=>{V()}),$e(()=>{R.unDock(),p&&clearInterval(p),document.documentElement.removeEventListener("click",V),document.documentElement.removeEventListener("keyup",O)})}),(e,t)=>{const u=be,n=Se,g=xe,m=Be,Ce=Te,ke=Ie;return B(),F("div",tt,[i("div",st,[t[11]||(t[11]=i("nav",{class:""},[i("div",{class:"logo--wrapper"},[i("div",{id:"logo",class:""},[i("img",{src:Fe,class:"",height:"32",alt:"Logo"})])])],-1)),Pe(e.$slots,"default",{},void 0,!0),i("div",lt,[t[3]||(t[3]=i("div",{id:"top-anchor"},null,-1)),i("div",at,[i("div",{class:"hk-center-cover-bg",ref_key:"centerCoverBgEl",ref:f},null,512)]),t[4]||(t[4]=i("div",{class:"margin-center-cover"},null,-1))]),i("div",it,[v(u,{items:re,onMonthClick:ve}),i("div",ot,[v(n,{class:"backward-icon",style:X({visibility:s(l)>1?"visible":"hidden"}),onClick:Y},null,8,["style"]),v(n,{class:"playlist-icon",onClick:W}),v(n,{class:"forward-icon",style:X({visibility:s(l)<s(M)?"visible":"hidden"}),onClick:H},null,8,["style"])]),v(De,{name:"collapse"},{default:Le(()=>[(B(),F("div",{class:"playlist-view",key:s(l)},[t[7]||(t[7]=i("div",{class:"playlist-bg"},null,-1)),s(_)&&s(r)[s(l)-1]?(B(),Re(g,{key:0,"song-list":s(r)[s(l)-1],"default-font-family":vt,onSongClick:K,"cache-map":s(w)},null,8,["song-list","cache-map"])):te("",!0),s(_)?te("",!0):(B(),F("span",nt,[t[5]||(t[5]=qe("Now Playing:")),t[6]||(t[6]=i("br",null,null,-1)),i("b",{class:C([{"jelly-sugar":!s(h)||s(h)==="Jelly Sugar",serif:s(h)==="serif"},"animated-title"])},Ye(s(I)),3)])),i("div",{class:C(["music-controls",{show:s(A)}])},[v(n,{class:C(["repeat-album",{active:s(o)==="album"}]),onClick:t[0]||(t[0]=()=>{L(o)?o.value="album":o="album",b.value=!1})},null,8,["class"]),v(n,{class:C(["repeat-song",{active:s(o)==="song"}]),onClick:t[1]||(t[1]=()=>{L(o)?o.value="song":o="song",b.value=!0})},null,8,["class"]),v(n,{class:C(["repeat-album-to-the-next",{active:s(o)==="all"}]),onClick:t[2]||(t[2]=()=>{L(o)?o.value="all":o="all",b.value=!1})},null,8,["class"])],2)]))]),_:1}),t[8]||(t[8]=i("div",{class:"YouMeKa__music-docking-station"},null,-1))]),i("div",ut,[i("div",{class:"music-widget-bg invisible",ref_key:"twentyThreeBg",ref:Q},null,512)]),v(m,{musicFile:s(D),musicAuthor:s(d).author,musicTitle:s(d).title,musicType:s(d).type,"music-loop":s(b),"on-music-ended":ge,"fetch-buffer-src":z,stopIcon:s(ue),rewindIcon:s(ce),font:"Gotham Condensed Black",fontSize:42,fgColor:"#ce0060",shadowColor:"#8c1441",ref_key:"musicApp",ref:N},null,8,["musicFile","musicAuthor","musicTitle","musicType","music-loop","stopIcon","rewindIcon"]),i("div",ct,[t[9]||(t[9]=i("div",{class:"hello-kitty-tall"},null,-1)),v(Ce),v(ke),t[10]||(t[10]=i("div",{class:"spacer"},null,-1))])]),t[12]||(t[12]=Ve('<div class="footer" data-v-f8177c6c><svg preserveAspectRatio="none" id="footer-spacer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2278 710" data-v-f8177c6c><path class="footer-spacer" id="bouncy-path" d="M0-0.3C0-0.3,464,156,1139,156S2278-0.3,2278-0.3V683H0V-0.3z" data-v-f8177c6c></path></svg><div class="footer__copyright bg-pink-950 flex pt-1" data-v-f8177c6c><div id="copyright-symbol" data-v-f8177c6c><svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f8177c6c><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12.24 15.25C13.02 15.25 13.79 14.96 14.38 14.44C14.69 14.17 15.17 14.2 15.44 14.51C15.71 14.82 15.68 15.3 15.37 15.57C14.5 16.34 13.39 16.76 12.24 16.76C9.62 16.76 7.49 14.63 7.49 12.01C7.49 9.39 9.62 7.26 12.24 7.26C13.39 7.26 14.51 7.68 15.37 8.45C15.68 8.72 15.71 9.2 15.44 9.51C15.16 9.82 14.69 9.85 14.38 9.58C13.79 9.06 13.03 8.77 12.24 8.77C10.45 8.77 8.99 10.23 8.99 12.02C8.99 13.81 10.45 15.25 12.24 15.25Z" fill="#ffccd5" data-v-f8177c6c></path></svg></div><span class="px-1" data-v-f8177c6c></span><span class="footer__copyright__text jelly-sugar text-2xl text-pink-300" data-v-f8177c6c>Yumika &amp; Sanrio</span></div></div>',1))])}}}),Mt=Ke(dt,[["__scopeId","data-v-f8177c6c"]]);export{Mt as default};
