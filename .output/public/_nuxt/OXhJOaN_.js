import{d as f,i as l,j as v,f as y,az as b,c as A,a0 as n,b as k,e as o,aL as E,aM as _,o as h}from"./DQlLHDZC.js";import{u as B}from"./JzJVHybB.js";const u="_carbonads_js",w=f({__name:"ScriptCarbonAds",props:{serve:{},placement:{},trigger:{type:[String,Array,Boolean]}},emits:["error","ready"],setup(m,{emit:p}){const s=m,i=p,r=l(document.getElementById(u)),t=l("awaitingLoad");function c(){if(!r.value)return;t.value="loading";const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",_("https://cdn.carbonads.com/carbon.js",{serve:s.serve,placement:s.placement})),e.setAttribute("id",u),e.onerror=d=>{t.value="error",i("error",d)},e.onload=()=>{t.value="loaded",i("ready",e)},r.value.appendChild(e)}const a=B({trigger:s.trigger,el:r});v(()=>{a==="onNuxtReady"?c():a.then(c)});const g=y(()=>({...a instanceof Promise?a.ssrAttrs||{}:{}}));return b(()=>{r.value&&r.value.remove()}),(e,d)=>(h(),A("div",E({ref_key:"carbonadsEl",ref:r},o(g)),[o(t)==="awaitingLoad"?n(e.$slots,"awaitingLoad",{key:0}):o(t)==="loading"?n(e.$slots,"loading",{key:1}):o(t)==="error"?n(e.$slots,"error",{key:2}):k("",!0)],16))}});export{w as default};
