import{S as g,P as D,G as _,W as f,M,a as C,b as x,C as L}from"./5bHSoEtU.js";import{i as P,j as A,a5 as E,c as S,b as R,e as b,o as v}from"./Dv5Ch5kX.js";const z={key:0,id:"goldenFlower"},l=200,d=200,y=100,I={__name:"GoldenFlower",setup(B){const p=P(null);let o,u,a,r,s=[],i=0;function w(){const e=new M(new C(.05,16,16),new x({color:new L(`hsl(${i*3.6}, 100%, 50%)`)}));e.position.x=0,e.position.y=0,e.userData.targetRadius=Math.sqrt(i)*.1,e.userData.targetAngle=i*Math.PI*(3-Math.sqrt(5)),e.userData.radius=0,e.userData.angle=0,e.userData.birthtime=Date.now(),r.add(e),s.push(e),i++}function h(){const e=document.getElementById("goldenFlower"),t=l/d;u=new g,o=new D(75,t,.1,1e3),r=new _,u.add(r),o.position.z=5,a=new f({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setClearColor(0,0);const n=a.getContext();n.disable(n.CULL_FACE),n.clearDepth(1),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.enable(n.BLEND),a.setSize(l,d),a.setAnimationLoop(m),e.appendChild(a.domElement),window.addEventListener("resize",c),c()}function c(){a.setSize(l,d),o.aspect=l/d,o.updateProjectionMatrix()}function m(){for(let e=0;e<s.length;e++){const t=s[e];t.userData.radius+=(t.userData.targetRadius-t.userData.radius)*.05,t.userData.angle+=(t.userData.targetAngle-t.userData.angle)*.05,t.position.x=t.userData.radius*Math.cos(t.userData.angle),t.position.y=t.userData.radius*Math.sin(t.userData.angle)}s.length<y&&w(),r.rotation.z+=.01,a.render(u,o)}return A(()=>{try{h()}catch(e){p.value=e,console.error("!GoldenFlower")}}),E(()=>{window.removeEventListener("resize",c)}),(e,t)=>b(p)?R("",!0):(v(),S("div",z))}};export{I as default};
