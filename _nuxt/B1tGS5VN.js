import{_ as A}from"./CYGw8FSg.js";import{f as G,t as i,h as R,r as $,g as q,d as B,i as m,j as M,k as U,o as y,c as L,F as j,l as I,a as _,m as W,b as z,_ as N}from"./lcrGAD2J.js";import{u as V}from"./lJc0all9.js";function H(c,r,l){const[e={},u]=[{},r],t=G(()=>i(c)),n=e.key||R([u,typeof t.value=="string"?t.value:"",...J(e)]);if(!n||typeof n!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+n);const f=n===u?"$f"+n:n;if(!e.baseURL&&typeof t.value=="string"&&t.value[0]==="/"&&t.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:w,lazy:a,default:s,transform:h,pick:p,watch:d,immediate:O,getCachedData:x,deep:C,dedupe:D,...F}=e,b=$({...q,...F,cache:typeof e.cache=="boolean"?void 0:e.cache}),T={server:w,lazy:a,default:s,transform:h,pick:p,immediate:O,getCachedData:x,deep:C,dedupe:D,watch:d===!1?[]:[b,t,...d||[]]};let o;return V(f,()=>{var E;(E=o==null?void 0:o.abort)==null||E.call(o,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),o=typeof AbortController<"u"?new AbortController:{};const k=i(e.timeout);let g;return k&&(g=setTimeout(()=>o.abort(new DOMException("Request aborted due to timeout.","AbortError")),k),o.signal.onabort=()=>clearTimeout(g)),(e.$fetch||globalThis.$fetch)(t.value,{signal:o.signal,...b}).finally(()=>{clearTimeout(g)})},T)}function J(c){var l;const r=[((l=i(c.method))==null?void 0:l.toUpperCase())||"GET",i(c.baseURL)];for(const e of[c.params||c.query]){const u=i(e);if(!u)continue;const t={};for(const[n,f]of Object.entries(u))t[i(n)]=i(f);r.push(t)}return r}const K={class:"board"},v=5,S=B({__name:"guess",setup(c){const r=m(""),l=m(Array(6).fill(null)),e=m(""),u=m(0),t=m(!1),n=a=>{if(a.key==="Enter"){if(e.value.length!==v)return;l.value[u.value]=e.value,u.value+=1,r.value.toLowerCase()===e.value&&(t.value=!0,console.log("Game Over!"))}if(!t.value){if(a.key==="Backspace"){e.value=e.value.slice(0,-1);return}e.value.length>=v||(a.key.length===1&&(e.value=e.value+a.key),e.value.length>=v)}};M(()=>{window.addEventListener("keydown",n)}),U(()=>{window.removeEventListener("keydown",n)});const f=a=>a===l.value.findIndex(s=>s==null);return(async()=>{const{data:a}=await H("/api/guess-words","$RXA5OmakJz"),s=a.value,h=s[Math.floor(Math.random()*s.length)];r.value=h})(),(a,s)=>{const h=A;return y(),L("div",K,[(y(!0),L(j,null,I(_(l),(p,d)=>(y(),z(h,{"word-length":v,solution:_(r).toLowerCase(),guess:(f(d)?_(e):p)??"",isFinal:!f(d)&&p!=null,key:d},null,8,["solution","guess","isFinal"]))),128)),s[0]||(s[0]=W("textarea",null,null,-1))])}}}),ee=N(S,[["__scopeId","data-v-fb75e20c"]]);export{ee as default};
