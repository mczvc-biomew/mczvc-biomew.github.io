import{d as k,f as L,a as c,r as i,m as u,l as w,n as T,D as b,o as x,c as M,t as E,y as B,q as D,z as A,A as z,T as I,C as r,p as o,aj as j,E as q}from"./E880yGoU.js";import{u as P}from"./BTxQ5cn_.js";const V=["src","data-author","data-title","type"],F=k({__name:"Music",props:{musicFile:String,musicAuthor:String,musicTitle:String,musicType:{default:"audio/mp3",type:String}},setup(S){L(e=>({"2c00c525":c(v)})),P({script:[{src:"/vendor/js/visualizer.js"}]});const n=S,a=i(),p=u("musicSingleton",()=>!1),l=i(),d=i(!1),y=e=>{e.preventDefault(),d.value?(r("#canvas",["bounce","paused"]),o("#canvas","active")):(setTimeout(()=>{o("#canvas",["bounce","paused"])},500),r("#canvas","active")),o("#canvas","always-show")},C=e=>{d.value=e;const t=document.getElementById("hero");if(e)t&&r(t,["foreground"]);else if(t){const s=["hover","foreground"];j(t,"foreground")||o(t,s)}},v=i("49");u("music-top",()=>v.value);const f=()=>{setTimeout(()=>{v.value=u("music-top").value+"px"},300)},h=()=>{o(c(a),"activated"),f(),c(p)||("__lazyMusicLoader"in window&&window.__lazyMusicLoader.then(e=>{l.value=e(),l.value&&l.value(C)}),p.value=!0)},_=e=>{if(e.target===a.value){e.stopPropagation();const t=document.getElementById("hero");t&&o(t,["hover"])}},g=e=>{if(e.target===a.value){e.stopPropagation();const t=document.getElementById("hero");t&&r(t,["hover"])}},m=()=>{f()};return w(()=>{var e,t,s;(e=document.querySelector(".app"))==null||e.addEventListener("onDockingStationAvailable",m),T(u("music-top"),()=>{m()},{immediate:!0}),document.documentElement.addEventListener("click",h),(t=a.value)==null||t.addEventListener("mouseenter",_),(s=a.value)==null||s.addEventListener("mouseleave",g)}),b(()=>{var e,t,s;(e=document.querySelector(".app"))==null||e.removeEventListener("onDockingStationAvailable",m),document.documentElement.removeEventListener("click",h),(t=a.value)==null||t.removeEventListener("mouseenter",_),(s=a.value)==null||s.removeEventListener("mouseleave",g)}),(e,t)=>(x(),M("div",{class:"music",onClick:y},[E("audio",{id:"audio",src:n.musicFile,"data-author":n.musicAuthor,"data-title":n.musicTitle,type:n.musicType},null,8,V),B(I,{name:"bounce"},{default:D(()=>[A(E("canvas",{id:"canvas",width:"340",height:"400",ref_key:"canvas",ref:a},null,512),[[z,!c(d)]])]),_:1})]))}}),H=q(F,[["__scopeId","data-v-7a4b246e"]]);export{H as default};
