import{u as y}from"./BDg0qK4Y.js";import{b as E}from"./Dx1vTSvx.js";import{d as k,i as c,j as v,G as A,az as h,f as T,c as w,m as C,a0 as i,b as p,e as o,aL as B,o as I}from"./DvQhbhe2.js";const $=k({__name:"ScriptStripePricingTable",props:{trigger:{type:[String,Array,Boolean],default:"visible"},publishableKey:{},pricingTableId:{},clientReferenceId:{},customerEmail:{},customerSessionClientSecret:{}},emits:["ready","error"],setup(d,{emit:g}){const t=d,l=g,n=c(),f=c(),a=y({trigger:t.trigger,el:n}),u=E("https://js.stripe.com/v3/pricing-table.js",{trigger:a}),{onLoaded:b,status:s}=u,m=c();v(()=>{b(()=>{const e=window.customElements.get("stripe-pricing-table"),r=new e;r.setAttribute("publishable-key",t.publishableKey),r.setAttribute("pricing-table-id",t.pricingTableId),t.clientReferenceId&&r.setAttribute("client-reference-id",t.clientReferenceId),t.customerEmail&&r.setAttribute("customer-email",t.customerEmail),t.customerSessionClientSecret&&r.setAttribute("customer-session-client-secret",t.customerSessionClientSecret),m.value=r,n.value.appendChild(r),l("ready",u)}),A(s,e=>{e==="error"&&l("error")})}),h(()=>{var e;(e=m.value)==null||e.remove()});const S=T(()=>({...a instanceof Promise?a.ssrAttrs||{}:{}}));return(e,r)=>(I(),w("div",B({ref_key:"rootEl",ref:n},o(S)),[C("div",{ref_key:"containerEl",ref:f},null,512),o(s)==="loading"?i(e.$slots,"loading",{key:0}):p("",!0),o(s)==="awaitingLoad"?i(e.$slots,"awaitingLoad",{key:1}):o(s)==="error"?i(e.$slots,"error",{key:2}):p("",!0),i(e.$slots,"default")],16))}});export{$ as default};
