import{S as D,P as f,G as _,W as C,M,a as L,b as x,C as P}from"./5bHSoEtU.js";import{i as A,j as E,a5 as S,c as R,b,e as v,o as z}from"./DRsEej2a.js";const G={key:0,id:"goldenFlower"},l=200,c=200,y=100,N={__name:"GoldenFlower",setup(B){const p=A(null);let o,u,a,r,s=[],i=0;function w(){const t=new M(new L(.05,16,16),new x({color:new P(`hsl(${i*3.6}, 100%, 50%)`)}));t.position.x=0,t.position.y=0,t.userData.targetRadius=Math.sqrt(i)*.1,t.userData.targetAngle=i*Math.PI*(3-Math.sqrt(5)),t.userData.radius=0,t.userData.angle=0,t.userData.birthtime=Date.now(),r.add(t),s.push(t),i++}function g(t){return t.getContext()}function h(){const t=document.getElementById("goldenFlower"),n=l/c;u=new D,o=new f(75,n,.1,1e3),r=new _,u.add(r),o.position.z=5,a=new C({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setClearColor(0,0);const e=g(a);e.disable(e.CULL_FACE),e.clearDepth(1),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),a.setSize(l,c),a.setAnimationLoop(m),t.appendChild(a.domElement),window.addEventListener("resize",d),d()}function d(){a.setSize(l,c),o.aspect=l/c,o.updateProjectionMatrix()}function m(){for(let n=0;n<s.length;n++){const e=s[n];e.userData.radius+=(e.userData.targetRadius-e.userData.radius)*.05,e.userData.angle+=(e.userData.targetAngle-e.userData.angle)*.05,e.position.x=e.userData.radius*Math.cos(e.userData.angle),e.position.y=e.userData.radius*Math.sin(e.userData.angle)}s.length<y&&w(),r.rotation.z+=.01,g(a).clearColor(0,0,0,0),a.render(u,o)}return E(()=>{try{h()}catch(t){p.value=t,console.error("!GoldenFlower")}}),S(()=>{window.removeEventListener("resize",d)}),(t,n)=>v(p)?b("",!0):(z(),R("div",G))}};export{N as default};
